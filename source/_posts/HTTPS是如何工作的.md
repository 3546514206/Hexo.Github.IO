---
title: HTTPS是如何工作的
date: 2024-02-04 14:03:43
tags:
- 计算机网络
- HTTPS
---

&ensp;&ensp;&ensp;&ensp; 超文本传输协议安全（HTTPS）是超文本传输协议（HTTP）的扩展。

&ensp;&ensp;&ensp;&ensp; HTTPS使用传输层安全协议（TLS）来传输加密数据。如果数据在网上被劫持，劫持者得到的只是二进制代码。那么数据是如何加密和解密的呢？

![HTTPS是如何工作的](/pic/基本功/计算机网络/HTTPS是如何工作的/HTTPS是如何工作的.jpeg)

* 步骤1 - 客户端（浏览器）和服务器建立TCP连接。

* 步骤2 - 客户端向服务器发送“客户端hello”。该消息包含一组必要的加密算法（密码套件）以及它可以支持的最新TLS版本。服务器通过发送“服务器hello”来响应，以便浏览器知道它是否支持算法和TLS版本。服务器然后向客户端发送SSL证书。证书包含公钥、主机名、过期日期等。客户端验证证书。

* 步骤3 - 在验证SSL证书后，客户端生成会话密钥并使用公钥对其进行加密。服务器接收加密的会话密钥并使用私钥进行解密。

* 步骤4 - 现在客户端和服务器都持有相同的会话密钥（对称加密），加密数据通过安全的双向通道进行传输。

&ensp;&ensp;&ensp;&ensp; 为什么HTTPS在数据传输期间会切换到对称加密？主要有两个原因：

* 1、安全：非对称加密只适用于单向。这意味着如果服务器尝试将加密数据发送回客户端，任何人都可以使用公钥解密数据。

* 2、服务器资源：非对称加密增加了大量的数学开销。它不适合长会话中的数据传输。
